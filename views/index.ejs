<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Whatsapp</title>
<link rel="stylesheet" href="style.css">



<style>

    body{
        margin: 20px;
        background-color: lightgreen;
        font-family: sans-serif;
    }
    .chatbox{
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        justify-content: center;
    
    }
    .chat{
        background-color:  rgba(125, 178, 224, 0.786);
        padding: 20px;
        border-radius: 16px;
        
    }
    
    .msg{
        background-color: dodgerblue;
        color: white;
        display: inline-block;
        border-radius: 10px;
        padding: 0 10px;
        
    }
    .newchatformbtn{
    display: flex;
    flex-direction: column;
     margin-bottom: 30px;
    align-items: center;
    
    }
    button{
        cursor: pointer;
        padding: 5px 8px;
        border-radius: 6px;
        box-shadow: 2px 2px 5px black;
        border: none;
        float: right;
        margin: 15px 6px;
    }

    .newchatformbtn h3{
        color: darkblue;
        font-family: sans-serif;
        font-weight: bolder;
        

    }

   
</style>

</head>
<body>
    
    <div class="newchatformbtn">
        <h3 >Whatsapp</h3>
        <form method="GET" action="/chats/new">
          <button>New Chat</button>
        </form>
      </div>
      <div class="chatbox">
        <% for(let chat of chats){ %>
        <div class="chat">
          <p>From : <%= chat.from %></p>
          <div class="msg">
            <p><%= chat.msg %></p>
            <form method="GET" action="/chats/<%= chat._id %>/edit">
              <button>Edit</button>
            </form>
            <form method="POST" action="/chats/<%= chat._id %>?_method=DELETE">
              <button>Delete</button>
            </form>
          </div>
          <p>Recevied by <%= chat.to %></p>
          <p>Time : <%= chat.created_at.toString().split(" ")[4] %></p>
          <p>
            Date : <%= chat.created_at.toString().split(" ").slice(0,4).join("-")
            %>
          </p>
          <hr />
        </div>
        <% } %>
      </div>
    
</body>
</html>

